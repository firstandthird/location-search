/*!
 * location-search - Lib to add location autocomplete to a input box
 * v0.2.3
 * https://github.com/firstandthird/location-search
 * copyright First+Third 2014
 * MIT License
*/
$.fn.locationSearch=function(a){a=a||{};var b=function(a,b,c){var d=new google.maps.places.AutocompleteService(null);b=b||["(cities)"],d.getPlacePredictions({input:a,types:b},function(a,b){if("OK"==b){for(var d=[],e=0;5>e;++e)if(a[e]){var f=a[e];d.push({place:f.description})}c(d)}})},c=function(a,b){var c=new google.maps.Geocoder;c.geocode({address:a},function(a,c){if("OK"!=c)return b(!0);var d=a[0];b(null,{lat:d.geometry.location.lat(),lng:d.geometry.location.lng(),address:d.formatted_address,addressObj:d.address_components})})};return this.each(function(){var d=$(this);d.complete({keepOpen:!0,sourceKey:"place",zIndex:a.zIndex||99999,listWidth:a.listWidth||!1,query:function(c,d){var e=this;""!==c&&b(c,a.types,function(a){d.call(e,a)})}}).on("complete:select",function(a,b){c(b.place,function(a,b){d.trigger("location:select",b)})})})};